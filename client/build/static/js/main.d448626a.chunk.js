(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{25:function(e,t,a){e.exports=a(53)},53:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(22),o=a.n(c),l=a(23),s=a(1),i=a(6),m=a(9),u=a.n(m),d={search:function(e){return u.a.get("https://www.googleapis.com/books/v1/volumes?q="+e+"&key=AIzaSyAJUz9wVyJlE-SUPLrSHzd3t_VuNVdWHCk")},getBooks:function(){return u.a.get("/api/books")},getBook:function(e){return u.a.get("/api/books/"+e)},deleteBook:function(e){return u.a.delete("/api/books/"+e)},saveBook:function(e){return u.a.post("/api/books",e)}};function f(e){var t=Object(n.useState)(""),a=Object(i.a)(t,2),c=a[0],o=a[1];return r.a.createElement("div",{className:"row",id:"search",name:"search"},r.a.createElement("div",{className:"col offset-s2 input-field col s12"},r.a.createElement("form",null,r.a.createElement("div",{className:"input-field col s6"},r.a.createElement("input",{type:"text",placeholder:"Search Books Here",onChange:function(e){o(e.target.value)}})),r.a.createElement("div",{className:"input-field col s6"},r.a.createElement("button",{className:"btn col waves-effect waves-light",type:"submit",onClick:function(t){t.preventDefault(),e.handleSearchSubmit(c)},defaultValue:"Harry Potter"},"Search")))))}function v(e){var t=e.book,a=e.id,c=Object(n.useState)(!1),o=Object(i.a)(c,2),l=o[0],s=o[1];Object(n.useEffect)(function(){d.getBook(a).then(function(e){e.data?s(!0):s(!1)}).catch(function(e){return console.log(e)})},[]);var m={bookId:a,title:t.title,authors:t.authors,description:t.description,image:t.imageLinks.thumbnail,link:t.previewLink},u=function(e){e.preventDefault(),l?d.deleteBook(m.bookId).then(function(e){return s(!1)}):d.saveBook(m).then(function(e){return s(!0)})};return r.a.createElement("div",{className:"col s12 m8 offset-m2"},r.a.createElement("div",{className:"card horizontal hoverable"},r.a.createElement("div",{className:"card-image"},r.a.createElement("img",{src:t.imageLinks.thumbnail,alt:"Book cover"})),r.a.createElement("div",{className:"card-stacked"},r.a.createElement("div",{className:"card-content",style:{height:60,overflow:"hidden"}},r.a.createElement("span",{className:"card-title"},t.title),r.a.createElement("p",null,t.description)),r.a.createElement("div",{className:"card-action"},r.a.createElement("a",{target:"_blank",href:t.previewLink,rel:"noopener noreferrer"},"Book preview"),l?r.a.createElement("a",{href:"/",onClick:u},r.a.createElement("i",{className:"material-icons right red-text"},"clear")):r.a.createElement("a",{href:"/",onClick:u},r.a.createElement("i",{className:"material-icons right red-text"},"check"))))))}function E(e){return r.a.createElement("div",{className:"row"},e.results.items?e.results.items.map(function(e){return r.a.createElement(v,{book:e.volumeInfo,id:e.id,key:e.id})}):r.a.createElement("div",{className:"col s12 m8 offset-m2"},r.a.createElement("h4",{className:"center"},e.empty)))}var h=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(""),l=Object(i.a)(o,2),s=l[0],m=l[1],u=Object(n.useState)(""),v=Object(i.a)(u,2),h=v[0],b=v[1];return Object(n.useEffect)(function(){s&&d.search(s).then(function(e){if(e.data.items||b("No books found!"),"error"===e.data.status)throw new Error(e.data.message);c(e.data),console.log(e.data)}).catch(function(e){return console.log(e)})},[s]),r.a.createElement("div",null,r.a.createElement(f,{handleSearchSubmit:function(e){m(e)}}),r.a.createElement(E,{results:a,empty:h}))};function b(e){var t=e.book,a=e.id,c=e.handleRemoveFromFavorites,o=Object(n.useState)(!1),l=Object(i.a)(o,2),s=l[0],m=l[1];return Object(n.useEffect)(function(){d.getBook(a).then(function(e){e.data?m(!0):m(!1)}).catch(function(e){return console.log(e)})},[s]),r.a.createElement("div",{className:"col s12 m8 offset-m2"},r.a.createElement("div",{className:"card horizontal hoverable"},r.a.createElement("div",{className:"card-image"},r.a.createElement("img",{src:t.image,alt:"Book cover"})),r.a.createElement("div",{className:"card-stacked"},r.a.createElement("div",{className:"card-content",style:{height:60,overflow:"hidden"}},r.a.createElement("span",{className:"card-title"},t.title),r.a.createElement("p",null,t.description)),r.a.createElement("div",{className:"card-action"},r.a.createElement("a",{target:"_blank",href:t.link,rel:"noopener noreferrer"},"Book preview"),r.a.createElement("a",{href:"/",onClick:function(e){e.preventDefault(),c(t.bookId)}},r.a.createElement("i",{className:"material-icons right red-text"},"clear"))))))}function k(e){return r.a.createElement("div",{className:"row"},e.results.length?e.results.map(function(t){return r.a.createElement(b,{book:t,id:t.bookId,key:t.bookId,handleRemoveFromFavorites:e.handleRemoveFromFavorites})}):r.a.createElement("div",{className:"col s12 m8 offset-m2"},r.a.createElement("h4",{className:"center"},"Your favorites list is empty!")))}function p(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1];function o(){d.getBooks().then(function(e){if("error"===e.data.status)throw new Error(e.data.message);c(e.data)}).catch(function(e){return console.log(e)})}Object(n.useEffect)(function(){o()},[]);return r.a.createElement("div",null,r.a.createElement(k,{results:a,handleRemoveFromFavorites:function(e){d.deleteBook(e).then(function(e){o()})}}))}var g=function(){return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-primary"},r.a.createElement("a",{className:"navbar-brand",href:"/"},"React Reading List"),r.a.createElement("a",{className:"navbar-brand",href:"/favourite"},"Favourites"))};var N=function(){return r.a.createElement(l.a,null,r.a.createElement("div",null,r.a.createElement(g,null),r.a.createElement(s.c,null,r.a.createElement(s.a,{exact:!0,path:["/","/books"]},r.a.createElement(h,null)),r.a.createElement(s.a,{exact:!0,path:"/favourite"},r.a.createElement(p,null)))))};o.a.render(r.a.createElement(N,null),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.d448626a.chunk.js.map